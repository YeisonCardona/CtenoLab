import{a as O,b as c,c as E,d as L}from"./chunk-5C2VHE22.js";import{c as S}from"./chunk-XRGWM46W.js";import{b as T}from"./chunk-EBVX5MXQ.js";import{$b as M,Ab as w,Bb as r,Cb as o,Mb as x,Sa as a,Yb as I,_b as l,db as g,hb as h,ra as d,tb as y,ua as f,wb as v,yb as C,zb as b}from"./chunk-JNWBK6C6.js";import{i as n,j as u,k as p}from"./chunk-GV7GV3NK.js";function k(m,e){if(m&1&&(r(0,"span",3,0),l(2),o()),m&2){let t=e.$implicit,i=x();I("visible",i.showIcon()[t.class]),y("cue-key",i.fixClass(t.class)),a(2),M(t.value)}}var s=class s extends E{showIcon=d(Object.fromEntries(this.cues().map(e=>[e.class,!1])));fullWindowLink="/paradigms/motor-imagery/wordcued/stimuli";normalWindowLink="/paradigms/motor-imagery/wordcued";startCountdownValue=5;ngOnInit(){return p(this,null,function*(){u(s.prototype,this,"ngOnInit").call(this),yield this.hardwareService.writeLine("CMD=@CLA;"),yield this.hardwareService.writeLine('CMD=@TITLE "Word-Cued Motor Imagery" BLUE 3;')})}generateCues(){this.cues.set(Object.keys(this.stimulusCommandMap).map(e=>({class:e,value:e,keys:this.stimulusCommandMap[e]})))}generateTrials(){let e=[];for(let t of this.experimentConfig.classes)for(let i=0;i<this.experimentConfig.trials_per_class;i++)e.push({class:t,duration:this.experimentConfig.stimulus_duration,soa:this.getRandomSoa(this.experimentConfig.soa)});return e=this.shuffle(e),e}showTrial(e){this.propagateClassMarker(e),this.showIcon.set(Object.fromEntries(this.cues().map(t=>[t.class,t.class===e])))}setOpacity(e,t){let i=this.cuesElement.find(_=>_._elementRef.nativeElement.getAttribute("cue-key")===this.fixClass(e));i&&(i._elementRef.nativeElement.style.opacity=t.toString())}stopStimuliSequence(){this.showTrial(null)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=f(s)))(i||s)}})();static \u0275cmp=g({type:s,selectors:[["app-stimuli"]],features:[h],decls:4,vars:1,consts:[["cueElement",""],[3,"hostRef"],[1,"center","cue","conditional-visible",3,"visible"],[1,"center","cue","conditional-visible"]],template:function(t,i){t&1&&(r(0,"app-stimuli-layout",1),l(1," WORDCUED "),C(2,k,3,4,"span",2,v),o()),t&2&&(w("hostRef",i),a(2),b(i.cues()))},dependencies:[S,O,T,L],styles:['.cue[_ngcontent-%COMP%]{color:var(--mat-sys-primary);width:100%;height:1em;font-size:10vh;font-family:"monospace"!important;text-align:center;text-transform:uppercase;letter-spacing:.1em}.conditional-visible[_ngcontent-%COMP%]{opacity:0;visibility:hidden;transition:opacity .3s ease,visibility .3s ease}.conditional-visible.visible[_ngcontent-%COMP%]{opacity:1;visibility:visible}']})};n([c("TRIAL",{arguments:["CLASS"],example:"Trial Right",description:"Highlights the specified class by activating its visual icon while deactivating all others. Useful for indicating the target class during a trial or cue presentation."})],s.prototype,"showTrial",1),n([c("OPACITY",{arguments:["CLASS","VALUE"],example:"OPACITY Right 0.5",description:"Sets the visual opacity of the specified class element. The value should range between 0.0 (fully transparent) and 1.0 (fully opaque)."})],s.prototype,"setOpacity",1);var R=s;export{R as a};
