import{a as I,b as B}from"./chunk-FYLPZVK4.js";import{b as V}from"./chunk-XYE4T4N2.js";import{a as E,b as T}from"./chunk-V3O6MF7T.js";import{b as y,c as D}from"./chunk-OFGZTJKI.js";import{l as H,o as k}from"./chunk-PWIFIY5G.js";import"./chunk-ENCEBVAJ.js";import{Ab as g,Cb as i,Db as a,Eb as x,Gb as C,Ib as u,Jb as l,Va as o,Vb as S,Xb as n,Zb as b,_a as p,d as v,gb as h,ja as d,ka as m,ua as _,vb as w,wb as f,xb as P,zb as M}from"./chunk-LNVXQ4PK.js";function O(t,r){if(t&1){let e=C();i(0,"button",1),u("click",function(){d(e);let c=l(2);return m(c.hardwareService.autoConnect())}),n(1," Auto-Connect to Hardware "),i(2,"mat-icon"),n(3,"usb"),a()()}}function A(t,r){if(t&1){let e=C();i(0,"div",0)(1,"button",1),u("click",function(){d(e);let c=l();return m(c.hardwareService.requestAndConnectDevice())}),n(2," Select Hardware to Connect "),i(3,"mat-icon"),n(4,"usb"),a()(),w(5,O,4,0,"button",2),a()}if(t&2){let e=l();o(5),f(e.hardwareService.hasAvailableDevice()?5:-1)}}function L(t,r){if(t&1&&(i(0,"b"),n(1),a(),n(2),x(3,"br")),t&2){let e=r.$implicit;o(),b("",e.name,":"),o(),b(" ",e.value)}}function R(t,r){if(t&1){let e=C();i(0,"div",0)(1,"button",3),u("click",function(){d(e);let c=l();return m(c.hardwareService.disconnect())}),n(2," Disconnect from Hardware "),i(3,"mat-icon"),n(4,"usb_off"),a()(),i(5,"button",1),u("click",function(){d(e);let c=l();return m(c.testConnection())}),n(6," Test Connection "),a()(),i(7,"div",4)(8,"p",5),n(9,"Connection successful!"),a(),i(10,"p",6),n(11,"Connection failed!"),a()(),x(12,"mat-divider"),i(13,"p",4),M(14,L,4,2,null,null,P),a()}if(t&2){let e=l();o(8),S("active",e.successConnectedMessage()),o(2),S("active",e.failConnectedMessage()),o(4),g(e.hardwareService.getProperties())}}var N=class t{constructor(r,e,s){this.navigationService=r;this.breadcrumbService=e;this.hardwareService=s;r.setActiveLink("/hardware-control-panel"),this.breadcrumbService.setBreadcrumbs([{label:"Home",url:"/home"},{label:"Hardware Control Panel",url:"/hardware-control-panel"}])}successConnectedMessage=_(!1);failConnectedMessage=_(!1);ngOnInit(){return v(this,null,function*(){yield this.hardwareService.checkAvailableDevice(),yield this.hardwareService.writeLine("CMD=@CLA;"),yield this.hardwareService.writeLine("CMD=@BRAND;")})}testConnection(){return v(this,null,function*(){yield this.hardwareService.writeLine("CMD=PING;CMD=@BIP 1000 100 128;CMD=@BRAND;");let r=yield this.hardwareService.readLine();this.successConnectedMessage.set(r==="RESP=PONG;"),this.failConnectedMessage.set(r!=="RESP=PONG;")})}static \u0275fac=function(e){return new(e||t)(p(E),p(T),p(V))};static \u0275cmp=h({type:t,selectors:[["app-hardware-control-panel"]],decls:4,vars:1,consts:[[1,"flex-row"],["matButton","filled",3,"click"],["matButton","filled"],["matButton","filled",1,"disconnect",3,"click"],[1,"margin-top-large"],[1,"success"],[1,"fail"]],template:function(e,s){e&1&&(i(0,"h1"),n(1,"Hardware Control Panel"),a(),w(2,A,6,1,"div",0)(3,R,16,4)),e&2&&(o(2),f(s.hardwareService.isConnected()?3:2))},dependencies:[k,H,B,I,D,y],styles:[".disconnect[_ngcontent-%COMP%]{background-color:var(--mat-sys-error)!important}.success[_ngcontent-%COMP%]{display:none}.success.active[_ngcontent-%COMP%]{display:block;color:var(--mat-sys-primary)}.fail[_ngcontent-%COMP%]{display:none}.fail.active[_ngcontent-%COMP%]{display:block;color:var(--mat-sys-error)}"]})};export{N as HardwareControlPanel};
