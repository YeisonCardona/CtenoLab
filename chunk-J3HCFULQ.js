import{a as L,b as l,c as O,d as R}from"./chunk-ZPEXMGH6.js";import{b as x,c as M}from"./chunk-XRGWM46W.js";import{b as S}from"./chunk-EBVX5MXQ.js";import{$b as T,Ab as I,Bb as o,Cb as r,Mb as C,Sa as s,Yb as b,_b as _,db as f,hb as h,ra as p,tb as g,ua as d,wb as v,yb as w,zb as y}from"./chunk-JNWBK6C6.js";import{i as a,j as m,k as u}from"./chunk-GV7GV3NK.js";function P(c,e){if(c&1&&(o(0,"mat-icon",3,0),_(2),r()),c&2){let t=e.$implicit,i=C();b("visible",i.showIcon()[t.class])("intentional",t.class.startsWith("Intentional")),g("cue-key",i.fixClass(t.class)),s(2),T(t.value)}}var n=class n extends O{showIcon=p(Object.fromEntries(this.cues().map(e=>[e.class,!1])));fullWindowLink="/paradigms/motor-imagery/intentional/stimuli";normalWindowLink="/paradigms/motor-imagery/intentional";startCountdownValue=5;ngOnInit(){return u(this,null,function*(){m(n.prototype,this,"ngOnInit").call(this),yield this.hardwareService.writeLine("CMD=@CLA;"),yield this.hardwareService.writeLine('CMD=@TITLE TEXT="Intentional Motor Imagery" COLOR=BLUE SIZE=3;')})}generateCues(){this.cues.set([{class:"Right",value:"arrow_forward"},{class:"Left",value:"arrow_back"},{class:"Up",value:"arrow_upward"},{class:"Down",value:"arrow_downward"},{class:"Rest",value:"radio_button_unchecked"},{class:"IntentionalRight",value:"arrow_forward"},{class:"IntentionalLeft",value:"arrow_back"},{class:"IntentionalUp",value:"arrow_upward"},{class:"IntentionalDown",value:"arrow_downward"},{class:"IntentionalRest",value:"radio_button_unchecked"}])}generateTrials(){let e=[];for(let t of this.experimentConfig.classes)for(let i=0;i<this.experimentConfig.trials_per_class;i++)e.push([{class:`Intentional${t}`,duration:this.experimentConfig.intentional_duration,soa:0},{class:t,duration:this.experimentConfig.stimulus_duration,soa:this.randomIntInRange(this.experimentConfig.soa)}]);return e=this.shuffle(e),e.flat()}showTrial(e){this.propagateClassMarker(e),this.showIcon.set(Object.fromEntries(this.cues().map(t=>[t.class,t.class===e])))}setOpacity(e,t){let i=this.cuesIconElement.find(k=>k._elementRef.nativeElement.getAttribute("cue-key")===this.fixClass(e));i&&(i._elementRef.nativeElement.style.opacity=t.toString())}stopStimuliSequence(){this.showTrial(null)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=d(n)))(i||n)}})();static \u0275cmp=f({type:n,selectors:[["app-stimuli"]],features:[h],decls:3,vars:1,consts:[["cueElement",""],[3,"hostRef"],[1,"center","cue","conditional-visible",3,"visible","intentional"],[1,"center","cue","conditional-visible"]],template:function(t,i){t&1&&(o(0,"app-stimuli-layout",1),w(1,P,3,6,"mat-icon",2,v),r()),t&2&&(I("hostRef",i),s(),y(i.cues()))},dependencies:[M,x,L,S,R],styles:[".cue[_ngcontent-%COMP%]{color:var(--mat-sys-primary);width:1em;height:1em;font-size:40vh}.conditional-visible[_ngcontent-%COMP%]{opacity:0;visibility:hidden;pointer-events:none;transition:opacity .1s ease,font-size .1s ease}.conditional-visible.intentional[_ngcontent-%COMP%]{color:var(--mat-sys-secondary)}.conditional-visible.visible[_ngcontent-%COMP%]{opacity:1;visibility:visible;font-size:50vh}"]})};a([l("TRIAL",{arguments:["CLASS"],example:"Trial Right",description:"Highlights the specified class by activating its visual icon while deactivating all others. Useful for indicating the target class during a trial or cue presentation."})],n.prototype,"showTrial",1),a([l("OPACITY",{arguments:["CLASS","VALUE"],example:"OPACITY Right 0.5",description:"Sets the visual opacity of the specified class element. The value should range between 0.0 (fully transparent) and 1.0 (fully opaque)."})],n.prototype,"setOpacity",1);var E=n;export{E as a};
