import{c as P}from"./chunk-4PHGQJCB.js";import{a as L,b as O,c as _,d as k}from"./chunk-4NUOK2ZF.js";import{k as E}from"./chunk-FNTTNCNS.js";import{b as x,c as I}from"./chunk-XRGWM46W.js";import{b as S}from"./chunk-EBVX5MXQ.js";import{Ab as C,Bb as a,Cb as o,Mb as y,Sa as s,Yb as T,_b as M,ac as w,db as d,hb as g,ra as u,tb as f,ua as p,wb as h,yb as v,zb as b}from"./chunk-JNWBK6C6.js";import{i as l,j as m,k as c}from"./chunk-GV7GV3NK.js";function D(r,e){if(r&1&&(a(0,"mat-icon",3,0),M(2),o()),r&2){let i=e.$implicit,t=y();T("visible",t.showIcon()[i.class]),f("cue-key",t.fixClass(i.class)),s(2),w("",i.value," ")}}var n=class n extends _{cues=[{class:"Target",value:"star"},{class:"NonTarget",value:"square"}];showIcon=u(Object.fromEntries(this.cues.map(e=>[e.class,!1])));fullWindowLink="/paradigms/p300/visual-oddball/stimuli";normalWindowLink="/paradigms/[pp00]/visual-oddball";startCountdownValue=5;ngOnInit(){return c(this,null,function*(){m(n.prototype,this,"ngOnInit").call(this),yield this.hardwareService.writeLine("CMD=@CLA;"),yield this.hardwareService.writeLine('CMD=@TITLE "Visual-Oddball P300" BLUE 3;')})}generateTrials(){let e=[];for(let i=0;i<this.experimentConfig.target;i++)e.push({class:"Target",duration:this.experimentConfig.stimulus_duration,soa:this.getRandomSoa(this.experimentConfig.soa)});for(let i=0;i<this.experimentConfig.non_target;i++)e.push({class:"NonTarget",duration:this.experimentConfig.stimulus_duration,soa:this.getRandomSoa(this.experimentConfig.soa)});return e=this.shuffle(e),e}showTrial(e){this.propagateClassMarker(e),this.showIcon.set(Object.fromEntries(this.cues.map(i=>[i.class,i.class===e])))}stopStimuliSequence(){this.showTrial(null)}static \u0275fac=(()=>{let e;return function(t){return(e||(e=p(n)))(t||n)}})();static \u0275cmp=d({type:n,selectors:[["app-stimuli"]],features:[g],decls:3,vars:1,consts:[["cueElement",""],[3,"hostRef"],[1,"center","cue","conditional-visible",3,"visible"],[1,"center","cue","conditional-visible"]],template:function(i,t){i&1&&(a(0,"app-stimuli-layout",1),v(1,D,3,4,"mat-icon",2,h),o()),i&2&&(C("hostRef",t),s(),b(t.cues))},dependencies:[I,x,L,S,P,E,k],styles:[".cue[_ngcontent-%COMP%]{color:var(--mat-sys-primary);width:1em;height:1em;font-size:20vh}.conditional-visible[_ngcontent-%COMP%]{opacity:0;visibility:hidden;pointer-events:none}.conditional-visible.visible[_ngcontent-%COMP%]{opacity:1;visibility:visible;pointer-events:auto}"]})};l([O("TRIAL",{arguments:["CLASS"],example:"Trial Target",description:"Highlights the specified class by activating its visual icon while deactivating all others. Useful for indicating the target class during a trial or cue presentation."})],n.prototype,"showTrial",1);var B=n;export{B as a};
