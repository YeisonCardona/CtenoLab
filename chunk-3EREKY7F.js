import{a as K}from"./chunk-BPFLWJMN.js";import"./chunk-PY3NYC5I.js";import{a as N,b as C,c as W,d as Q}from"./chunk-5GQAEGDJ.js";import{b as U,c as P}from"./chunk-2MU6D3F7.js";import"./chunk-XZX6MNSG.js";import"./chunk-MIDUL3IR.js";import{a as $,b as f,f as j}from"./chunk-G4L77QHE.js";import"./chunk-AV57WIB4.js";import"./chunk-ZTJUKPVF.js";import"./chunk-3WBKHMUP.js";import"./chunk-4NTPXO5B.js";import{a as q,b as O}from"./chunk-FNZD6ZPB.js";import"./chunk-HRYCUA6K.js";import"./chunk-J7R32EXU.js";import"./chunk-QV2V6AKN.js";import"./chunk-PSHI5EDA.js";import"./chunk-WF6OUPN2.js";import"./chunk-B7YIEC7Z.js";import"./chunk-5A7XLOI6.js";import"./chunk-TH2QI45C.js";import"./chunk-S7LM26KX.js";import"./chunk-PIO7AG4D.js";import"./chunk-T6JZKSF2.js";import{b as z}from"./chunk-BN5QOK7L.js";import{a as H,c as V}from"./chunk-IU7NWVGQ.js";import{j as F,l as L,m as A,o as G}from"./chunk-EXEM6OM4.js";import{m as R}from"./chunk-RWQLXEFD.js";import{$b as k,Ab as s,Bb as o,Cb as n,Db as d,Fb as B,Jb as g,Ob as y,Pa as h,Pb as v,Qa as I,Qb as x,Sa as r,Ub as T,Xa as u,Yb as l,Zb as S,db as _,ga as p,ha as b,hc as E,ra as M,tc as D}from"./chunk-FHWKK7EC.js";import"./chunk-5KHZBZE7.js";var Y=class w{constructor(e,i,t,a,c){this.navigationService=e;this.breadcrumbService=i;this.route=t;this.router=a;this.dialog=c;e.setActiveLink("/experiments/motor-imagery/bilateral"),this.breadcrumbService.setBreadcrumbs([{label:"Home",url:"/home"},{label:"Experiments",url:"/experiments"},{label:"Motor Imagery",url:"/experiments/motor-imagery"},{label:"Bilateral Motor Imagery",url:"/experiments/motor-imagery/bilateral"}])}formComponent;tabGroup;formData=M({});currentUrl=window.location.href.split("?")[0];ngAfterViewInit(){this.route.queryParams.subscribe(e=>{e.tab&&(this.tabGroup.selectedIndex=parseInt(e.tab))})}getFullWindowLink(e){let i=btoa(JSON.stringify(this.formData()));return this.router.serializeUrl(this.router.createUrlTree([e],{queryParams:{config:i}}))}onFormValueChange(e){this.formData.set(e)}summary=D(()=>{let e=this.formData();if(!e||Object.keys(e).length===0)return"";let i=[],t=e.classes?.length*e.trials_per_class||0,a=(e.soa?.[0]+e.soa?.[1])/2,c=e.soa?.[1]-e.soa?.[0],m=Math.round((e.stimulus_duration+a)*t/6e4);t>200&&i.push("The total number of trials exceeds 200. This may lead to participant fatigue."),m>30&&i.push("Estimated experiment duration exceeds 30 minutes. Consider reducing trials or stimulus duration."),(e.soa?.[0]??1e3)<300&&i.push("The minimum SOA is below 500 ms. This may not provide sufficient recovery time between trials."),c<500&&i.push("SOA range is too narrow. Randomization may be imperceptible and timing may not vary meaningfully across trials."),(!e.classes?.length||e.classes?.length===1)&&i.push("At least two motor imagery classes are required for meaningful classification and comparison.");let J=i.length?`<p class="warning"><b>\u26A0\uFE0F Warnings:</b><br>${i.map(X=>`\u2022 ${X}`).join("<br>")}</p>`:"";return`
    <p class="summary-block">
      <b>Selected classes</b>: ${e.classes?.join(", ")||"\u2014"}<br>
      <b>Total trials</b>: ${t}
      (${e.trials_per_class} per class \xD7 ${e.classes?.length||0} classes)<br>
      <b>Stimulus duration</b>: ${e.stimulus_duration} ms<br>
      <b>SOA</b>: ${e.soa?.[0]}\u2013${e.soa?.[1]} ms<br>
      <b>Estimated duration</b>: ${m} min
    </p>
    ${J}
  `});loadDefaultValues(){this.dialog.open(Q,{data:{title:"Reset Configuration",question:"Are you sure you want to reset the experiment configuration to default values?",confirmText:"Yes, Reset",cancelText:"Cancel"}}).afterClosed().subscribe(e=>{e&&(this.formData.set({classes:["Left Hand","Right Hand","Both Hands"],trials_per_class:20,stimulus_duration:4e3,soa:[1e3,2e3]}),this.formComponent.loadValues(this.formData()))})}experiment={name:"Bilateral Motor Imagery",description:"This experiment investigates the <b>mental rehearsal of coordinated or alternating movements</b> involving <b>both limbs</b>, typically the left and right hands. By engaging <b>bilateral motor imagery</b>, it enables the analysis of <b>interhemispheric communication</b>, <b>motor coordination patterns</b>, and <b>distributed cortical activation</b>. It is valuable in exploring more complex motor representations within <b>BCI systems</b>.",metadata:{type:"Bilateral",paradigm:"Endogenous",stimulus_type:"Visual",recording_modality:"EEG",difficulty_level:"Advanced",class_range:{min:2,max:4},intended_applications:["Investigation of Interhemispheric Dynamics","BCI Training for Complex Motor Tasks","Neurofeedback for Bimanual Coordination","Motor Rehabilitation Post-Stroke","Validation of Multiclass BCI Decoders"],common_datasets:["BCI Competition IV \u2013 Dataset 2b (Graz)","OpenBMI \u2013 Bilateral Motor Imagery Dataset","BNCI Horizon 2020 \u2013 Dataset 008-2015","GigaScience \u2013 Bimanual Motor Imagery Dataset","EEG Motor Movement/Imagery Dataset \u2013 Extended (PhysioNet)"]},objective:"The goal of this experiment is to assess the participant\u2019s ability to <b>simultaneously or sequentially imagine movements</b> of <b>both limbs</b>, thereby enabling the study of <b>distributed cortical activations</b> and <b>coordination-related EEG features</b>. This helps evaluate the feasibility of <b>multiclass BCI control</b> based on complex motor imagery patterns.",hypothesis:"<b>Bilateral motor imagery</b> is expected to induce <b>concurrent modulations</b> in the <b>mu and beta frequency bands</b> over <b>bilateral sensorimotor cortices</b>. These modulations reflect interhemispheric synchronization and coordination, providing a neural basis for <b>more complex intention decoding</b> in BCI systems.",procedure:"Participants are placed in a <b>controlled environment</b> and connected to <b>EEG acquisition hardware</b>. Each trial begins with a <b>fixation cross</b>, followed by a <b>visual cue</b> indicating the motor imagery task: <b>simultaneous bimanual movement</b> (e.g., both hands grasping) or <b>alternating motor tasks</b>. Participants are instructed to <b>imagine the action kinesthetically</b> without physical movement. Each trial consists of a <b>4 to 6 second imagery phase</b> and a <b>rest interval</b>. Multiple blocks are used to capture variability and ensure robust feature extraction.",requirements:"This experiment requires a <b>modern web browser</b> with high-precision visual rendering. EEG configurations must support <b>bilateral electrode coverage</b> and be compatible with <b>stimulus synchronization</b> through <b>WebUSB, serial, or network</b> protocols. Participants should have prior experience with <b>motor imagery tasks</b> and be instructed in <b>bimanual coordination</b> strategies. Quiet conditions and stable attention are critical. <b>Optional feedback mechanisms</b> may be integrated for training purposes.",characteristics:"Categorized as <b>endogenous</b>, this experiment depends on <b>internally generated motor imagery</b> involving <b>both limbs</b>. The <b>bilateral design</b> allows exploration of <b>interhemispheric EEG features</b> and provides a richer testing ground for <b>multiclass BCI decoding</b>."};columns="2";storageKey="bilateral-motor-imagery";formField=[{type:"checkbox",key:"classes",label:"Motor Imagery Classes",value:["Left Hand","Right Hand","Both Hands"],options:["Left Hand","Right Hand","Both Hands","Left Hand + Right Foot","Right Hand + Left Foot","Rest"],hint:"Select the classes to include in the experiment."},{type:"slider",key:"trials_per_class",label:"Trials per Class",value:20,min:1,max:100,step:1,suffix:" trials",hint:"Number of repetitions per selected class."},{type:"slider",key:"stimulus_duration",label:"Stimulus Duration",value:4e3,min:100,max:1e4,step:100,suffix:" ms",hint:"Time each stimulus is shown."},{type:"range",key:"soa",label:"SOA (Stimulus Onset Asynchrony)",value:[1e3,2e3],min:0,max:5e3,step:100,suffix:" ms",hint:"Time between stimuli, randomized between min and max."}];static \u0275fac=function(i){return new(i||w)(u(q),u(O),u(H),u(V),u(W))};static \u0275cmp=_({type:w,selectors:[["app-bilateral"]],viewQuery:function(i,t){if(i&1&&(y(C,5),y(f,5)),i&2){let a;v(a=x())&&(t.formComponent=a.first),v(a=x())&&(t.tabGroup=a.first)}},decls:28,vars:15,consts:[["tabGroup",""],["formComponent",""],[1,"no-margin-bottom"],[1,"align-justify",3,"innerHTML"],["dynamicHeight","","mat-stretch-tabs","",1,"example-stretched-tabs","mat-elevation-z4"],["label","Stimuli Delivery"],[3,"valueChange","config","columns","storageKey"],[1,"margin-top-large",3,"innerHTML"],[1,"flex-row","flex-row-left"],[1,"elipsis-96",3,"href"],["matIconButton","",3,"cdkCopyToClipboard"],["matButton","filled",1,"margin-top-large","margin-bottom-large",3,"click"],[3,"experimentConfig","embeded"],["label","Experiment Context"],[1,"margin-top-large"],[3,"experiment"],["matFab","","extended","",1,"margin-top-large","button-configure","margin-bottom-medium","margin-left-small","mat-elevation-z1",3,"click"]],template:function(i,t){if(i&1){let a=B();o(0,"h1",2),l(1),n(),d(2,"p",3),o(3,"mat-tab-group",4,0)(5,"mat-tab",5)(6,"app-inputs",6,1),g("valueChange",function(m){return p(a),b(t.onFormValueChange(m))}),n(),d(8,"div",7),o(9,"p",8)(10,"span")(11,"b"),l(12,"Direct experiment link:"),n()(),o(13,"a",9),l(14),n(),o(15,"button",10)(16,"mat-icon"),l(17,"content_copy"),n()()(),o(18,"button",11),g("click",function(){return p(a),b(t.loadDefaultValues())}),l(19,"Load Default Values"),n(),d(20,"app-stimuli",12),n(),o(21,"mat-tab",13),d(22,"div",14)(23,"app-experiment",15),o(24,"button",16),g("click",function(){p(a);let m=T(4);return b(m.selectedIndex=1)}),o(25,"mat-icon"),l(26,"build"),n(),l(27," Configure this experiment "),n()()()}i&2&&(r(),S(t.experiment.name),r(),s("innerHTML",t.experiment.description,h),r(4),s("config",t.formField)("columns",t.columns)("storageKey",t.storageKey),r(2),s("innerHTML",t.summary(),h),r(5),s("href",E("",t.currentUrl,"",t.getFullWindowLink("/stimuli")),I),r(),k(" ",t.currentUrl,"",t.getFullWindowLink("/stimuli")," "),r(),s("cdkCopyToClipboard",t.currentUrl+t.getFullWindowLink("/stimuli")),r(5),s("experimentConfig",t.formData())("embeded","embeded"),r(3),s("experiment",t.experiment))},dependencies:[R,N,j,$,f,A,z,C,G,L,F,K,P,U],encapsulation:2})};export{Y as MotorImageryBilateral};
