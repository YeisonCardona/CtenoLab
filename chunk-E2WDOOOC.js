import{c as P}from"./chunk-4PHGQJCB.js";import{a as L,b as _,c as O,d as R}from"./chunk-4NUOK2ZF.js";import{k as E}from"./chunk-FNTTNCNS.js";import{b as S,c as w}from"./chunk-XRGWM46W.js";import{b as I}from"./chunk-EBVX5MXQ.js";import{Ab as b,Bb as o,Cb as a,Mb as T,Sa as n,Yb as y,_b as x,ac as M,db as d,hb as g,ra as c,tb as f,ua as p,wb as h,yb as v,zb as C}from"./chunk-JNWBK6C6.js";import{i as l,j as m,k as u}from"./chunk-GV7GV3NK.js";function B(r,i){if(r&1&&(o(0,"mat-icon",3,0),x(2),a()),r&2){let e=i.$implicit,t=T();y("visible",t.showIcon()[e.class]),f("cue-key",t.fixClass(e.class)),n(2),M("",e.value," ")}}var s=class s extends O{cues=[{class:"Target",value:"star"},{class:"NonTarget",value:"square"},{class:"Novel",value:"fertile"}];showIcon=c(Object.fromEntries(this.cues.map(i=>[i.class,!1])));fullWindowLink="/paradigms/p300/three-stimuls/stimuli";normalWindowLink="/paradigms/p300/three-stimuls";startCountdownValue=5;ngOnInit(){return u(this,null,function*(){m(s.prototype,this,"ngOnInit").call(this),yield this.hardwareService.writeLine("CMD=@CLA;"),yield this.hardwareService.writeLine('CMD=@TITLE "Three-Stimuls P300" BLUE 3;')})}generateTrials(){let i=[];for(let e=0;e<this.experimentConfig.target;e++)i.push({class:"Target",duration:this.experimentConfig.stimulus_duration,soa:this.getRandomSoa(this.experimentConfig.soa)});for(let e=0;e<this.experimentConfig.novel;e++)i.push({class:"Novel",duration:this.experimentConfig.stimulus_duration,soa:this.getRandomSoa(this.experimentConfig.soa)});for(let e=0;e<this.experimentConfig.non_target;e++)i.push({class:"NonTarget",duration:this.experimentConfig.stimulus_duration,soa:this.getRandomSoa(this.experimentConfig.soa)});return i=this.shuffle(i),i}showTrial(i){this.propagateClassMarker(i),this.showIcon.set(Object.fromEntries(this.cues.map(e=>[e.class,e.class===i])))}stopStimuliSequence(){this.showTrial(null)}static \u0275fac=(()=>{let i;return function(t){return(i||(i=p(s)))(t||s)}})();static \u0275cmp=d({type:s,selectors:[["app-stimuli"]],features:[g],decls:3,vars:1,consts:[["cueElement",""],[3,"hostRef"],[1,"center","cue","conditional-visible",3,"visible"],[1,"center","cue","conditional-visible"]],template:function(e,t){e&1&&(o(0,"app-stimuli-layout",1),v(1,B,3,4,"mat-icon",2,h),a()),e&2&&(b("hostRef",t),n(),C(t.cues))},dependencies:[w,S,L,I,P,E,R],styles:[".cue[_ngcontent-%COMP%]{color:var(--mat-sys-primary);width:1em;height:1em;font-size:20vh}.conditional-visible[_ngcontent-%COMP%]{opacity:0;visibility:hidden;pointer-events:none}.conditional-visible.visible[_ngcontent-%COMP%]{opacity:1;visibility:visible;pointer-events:auto}"]})};l([_("TRIAL",{arguments:["CLASS"],example:"Trial Target",description:"Highlights the specified class by activating its visual icon while deactivating all others. Useful for indicating the target class during a trial or cue presentation."})],s.prototype,"showTrial",1);var k=s;export{k as a};
