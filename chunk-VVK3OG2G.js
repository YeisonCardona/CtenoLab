import{a as oe}from"./chunk-XAEOJ6OX.js";import{a as ne,b as re,c as ae}from"./chunk-3KAEYPMY.js";import{a as I,c as L,d as mt,e as gt,f as ee,h as ie,k as se}from"./chunk-3VH3NAXF.js";import{A as dt,F as $t,G as qt,H as Kt,J as Qt,L as Jt,N as pt,O as ft,P as m,Q as _t,R as z,S as te,T as ut,g as Wt,i as Gt,s as lt,t as A,u as Ut,v as ht,x as Zt,z as ct}from"./chunk-4BBLAZ57.js";import{$ as f,$a as H,A as Et,Eb as Ft,Fb as Vt,Gb as Xt,Ib as Ht,Jb as rt,Lb as a,Mb as zt,Na as Y,Pb as at,Qa as X,Ra as Mt,Sa as it,T as k,Ua as st,W as x,X as V,Z as B,_a as D,_b as jt,a as C,ab as ot,b as xt,ca as Pt,d as tt,ea as Rt,fa as Tt,fb as E,ga as w,gb as M,ha as S,i as b,lb as At,qa as et,qb as It,rb as Lt,sa as T,sb as Bt,tb as N,ub as h,vb as c,wb as Yt,ya as Dt,yb as Nt,zb as nt}from"./chunk-WFWE7H2T.js";var le=Jt();function me(o){return new j(o.get(L),o.get(S))}var j=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(e,t){this._viewportRuler=e,this._document=t}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=m(-this._previousScrollPosition.left),e.style.top=m(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,t=this._document.body,i=e.style,s=t.style,n=i.scrollBehavior||"",r=s.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),le&&(i.scrollBehavior=s.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),le&&(i.scrollBehavior=n,s.scrollBehavior=r)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let t=this._document.documentElement,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}};function ge(o,e){return new W(o.get(I),o.get(E),o.get(L),e)}var W=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(e,t,i,s){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=s}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(Et(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}};var F=class{enable(){}disable(){}attach(){}};function yt(o,e){return e.some(t=>{let i=o.bottom<t.top,s=o.top>t.bottom,n=o.right<t.left,r=o.left>t.right;return i||s||n||r})}function he(o,e){return e.some(t=>{let i=o.top<t.top,s=o.bottom>t.bottom,n=o.left<t.left,r=o.right>t.right;return i||s||n||r})}function R(o,e){return new G(o.get(I),o.get(L),o.get(E),e)}var G=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(e,t,i,s){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=s}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:s}=this._viewportRuler.getViewportSize();yt(t,[{width:i,height:s,bottom:s,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},ye=(()=>{class o{_injector=f(w);constructor(){}noop=()=>new F;close=t=>ge(this._injector,t);block=()=>me(this._injector);reposition=t=>R(this._injector,t);static \u0275fac=function(i){return new(i||o)};static \u0275prov=x({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),U=class{positionStrategy;scrollStrategy=new F;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";disableAnimations;width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(e){if(e){let t=Object.keys(e);for(let i of t)e[i]!==void 0&&(this[i]=e[i])}}};var Z=class{connectionPair;scrollableViewProperties;constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}};var ve=(()=>{class o{_attachedOverlays=[];_document=f(S);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){let i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(i){return new(i||o)};static \u0275prov=x({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),be=(()=>{class o extends ve{_ngZone=f(E);_renderer=f(X).createRenderer(null,null);_cleanupKeydown;add(t){super.add(t),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=t=>{let i=this._attachedOverlays;for(let s=i.length-1;s>-1;s--)if(i[s]._keydownEvents.observers.length>0){this._ngZone.run(()=>i[s]._keydownEvents.next(t));break}};static \u0275fac=(()=>{let t;return function(s){return(t||(t=et(o)))(s||o)}})();static \u0275prov=x({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),we=(()=>{class o extends ve{_platform=f(A);_ngZone=f(E);_renderer=f(X).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(t){if(super.add(t),!this._isAttached){let i=this._document.body,s={capture:!0},n=this._renderer;this._cleanups=this._ngZone.runOutsideAngular(()=>[n.listen(i,"pointerdown",this._pointerDownListener,s),n.listen(i,"click",this._clickListener,s),n.listen(i,"auxclick",this._clickListener,s),n.listen(i,"contextmenu",this._clickListener,s)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(t=>t()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=t=>{this._pointerDownEventTarget=lt(t)};_clickListener=t=>{let i=lt(t),s=t.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:i;this._pointerDownEventTarget=null;let n=this._attachedOverlays.slice();for(let r=n.length-1;r>-1;r--){let l=n[r];if(l._outsidePointerEvents.observers.length<1||!l.hasAttached())continue;if(ce(l.overlayElement,i)||ce(l.overlayElement,s))break;let p=l._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>p.next(t)):p.next(t)}};static \u0275fac=(()=>{let t;return function(s){return(t||(t=et(o)))(s||o)}})();static \u0275prov=x({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function ce(o,e){let t=typeof ShadowRoot<"u"&&ShadowRoot,i=e;for(;i;){if(i===o)return!0;i=t&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}var Se=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275cmp=D({type:o,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(i,s){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}
`],encapsulation:2,changeDetection:0})}return o})(),Oe=(()=>{class o{_platform=f(A);_containerElement;_document=f(S);_styleLoader=f(ct);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t="cdk-overlay-container";if(this._platform.isBrowser||pt()){let s=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let n=0;n<s.length;n++)s[n].remove()}let i=this._document.createElement("div");i.classList.add(t),pt()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}_loadStyles(){this._styleLoader.load(Se)}static \u0275fac=function(i){return new(i||o)};static \u0275prov=x({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),vt=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(e,t,i,s){this._renderer=t,this._ngZone=i,this.element=e.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=t.listen(this.element,"click",s)}detach(){this._ngZone.runOutsideAngular(()=>{let e=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(e,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),e.style.pointerEvents="none",e.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},$=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new b;_attachments=new b;_detachments=new b;_positionStrategy;_scrollStrategy;_locationChanges=tt.EMPTY;_backdropRef=null;_detachContentMutationObserver;_detachContentAfterRenderRef;_previousHostParent;_keydownEvents=new b;_outsidePointerEvents=new b;_afterNextRenderRef;constructor(e,t,i,s,n,r,l,p,_,d=!1,u,O){this._portalOutlet=e,this._host=t,this._pane=i,this._config=s,this._ngZone=n,this._keyboardDispatcher=r,this._document=l,this._location=p,this._outsideClickDispatcher=_,this._animationsDisabled=d,this._injector=u,this._renderer=O,s.scrollStrategy&&(this._scrollStrategy=s.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=s.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=M(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._completeDetachContent(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof t?.onDestroy=="function"&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._completeDetachContent(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,e&&this._detachments.next(),this._detachments.complete(),this._completeDetachContent()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=C(C({},this._config),e),this._updateElementSize()}setDirection(e){this._config=xt(C({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=m(this._config.width),e.height=m(this._config.height),e.minWidth=m(this._config.minWidth),e.minHeight=m(this._config.minHeight),e.maxWidth=m(this._config.maxWidth),e.maxHeight=m(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new vt(this._document,this._renderer,this._ngZone,t=>{this._backdropClick.next(t)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(e))}):this._backdropRef.element.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(e,t,i){let s=dt(t||[]).filter(n=>!!n);s.length&&(i?e.classList.add(...s):e.classList.remove(...s))}_detachContentWhenEmpty(){let e=!1;try{this._detachContentAfterRenderRef=M(()=>{e=!0,this._detachContent()},{injector:this._injector})}catch(t){if(e)throw t;this._detachContent()}globalThis.MutationObserver&&this._pane&&(this._detachContentMutationObserver||=new globalThis.MutationObserver(()=>{this._detachContent()}),this._detachContentMutationObserver.observe(this._pane,{childList:!0}))}_detachContent(){(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),this._completeDetachContent())}_completeDetachContent(){this._detachContentAfterRenderRef?.destroy(),this._detachContentAfterRenderRef=void 0,this._detachContentMutationObserver?.disconnect()}_disposeScrollStrategy(){let e=this._scrollStrategy;e?.disable(),e?.detach?.()}},de="cdk-overlay-connected-position-bounding-box",Le=/([A-Za-z%]+)$/;function Q(o,e){return new q(e,o.get(L),o.get(S),o.get(A),o.get(Oe))}var q=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new b;_resizeSubscription=tt.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(e,t,i,s,n){this._viewportRuler=t,this._document=i,this._platform=s,this._overlayContainer=n,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(de),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,t=this._overlayRect,i=this._viewportRect,s=this._containerRect,n=[],r;for(let l of this._preferredPositions){let p=this._getOriginPoint(e,s,l),_=this._getOverlayPoint(p,t,l),d=this._getOverlayFit(_,t,i,l);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(l,p);return}if(this._canFitWithFlexibleDimensions(d,_,i)){n.push({position:l,origin:p,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(p,l)});continue}(!r||r.overlayFit.visibleArea<d.visibleArea)&&(r={overlayFit:d,overlayPoint:_,originPoint:p,position:l,overlayRect:t})}if(n.length){let l=null,p=-1;for(let _ of n){let d=_.boundingBoxRect.width*_.boundingBoxRect.height*(_.position.weight||1);d>p&&(p=d,l=_)}this._isPushed=!1,this._applyPosition(l.position,l.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(r.position,r.originPoint);return}this._applyPosition(r.position,r.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&P(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(de),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let s;if(i.originX=="center")s=e.left+e.width/2;else{let r=this._isRtl()?e.right:e.left,l=this._isRtl()?e.left:e.right;s=i.originX=="start"?r:l}t.left<0&&(s-=t.left);let n;return i.originY=="center"?n=e.top+e.height/2:n=i.originY=="top"?e.top:e.bottom,t.top<0&&(n-=t.top),{x:s,y:n}}_getOverlayPoint(e,t,i){let s;i.overlayX=="center"?s=-t.width/2:i.overlayX==="start"?s=this._isRtl()?-t.width:0:s=this._isRtl()?0:-t.width;let n;return i.overlayY=="center"?n=-t.height/2:n=i.overlayY=="top"?0:-t.height,{x:e.x+s,y:e.y+n}}_getOverlayFit(e,t,i,s){let n=fe(t),{x:r,y:l}=e,p=this._getOffset(s,"x"),_=this._getOffset(s,"y");p&&(r+=p),_&&(l+=_);let d=0-r,u=r+n.width-i.width,O=0-l,y=l+n.height-i.height,g=this._subtractOverflows(n.width,d,u),v=this._subtractOverflows(n.height,O,y),kt=g*v;return{visibleArea:kt,isCompletelyWithinViewport:n.width*n.height===kt,fitsInViewportVertically:v===n.height,fitsInViewportHorizontally:g==n.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){let s=i.bottom-t.y,n=i.right-t.x,r=pe(this._overlayRef.getConfig().minHeight),l=pe(this._overlayRef.getConfig().minWidth),p=e.fitsInViewportVertically||r!=null&&r<=s,_=e.fitsInViewportHorizontally||l!=null&&l<=n;return p&&_}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let s=fe(t),n=this._viewportRect,r=Math.max(e.x+s.width-n.width,0),l=Math.max(e.y+s.height-n.height,0),p=Math.max(n.top-i.top-e.y,0),_=Math.max(n.left-i.left-e.x,0),d=0,u=0;return s.width<=n.width?d=_||-r:d=e.x<this._viewportMargin?n.left-i.left-e.x:0,s.height<=n.height?u=p||-l:u=e.y<this._viewportMargin?n.top-i.top-e.y:0,this._previousPushAmount={x:d,y:u},{x:e.x+d,y:e.y+u}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!Be(this._lastScrollVisibility,i)){let s=new Z(e,i);this._positionChanges.next(s)}this._lastScrollVisibility=i}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let t=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,s=e.overlayY;e.overlayX==="center"?i="center":this._isRtl()?i=e.overlayX==="start"?"right":"left":i=e.overlayX==="start"?"left":"right";for(let n=0;n<t.length;n++)t[n].style.transformOrigin=`${i} ${s}`}_calculateBoundingBoxRect(e,t){let i=this._viewportRect,s=this._isRtl(),n,r,l;if(t.overlayY==="top")r=e.y,n=i.height-r+this._viewportMargin;else if(t.overlayY==="bottom")l=i.height-e.y+this._viewportMargin*2,n=i.height-l+this._viewportMargin;else{let y=Math.min(i.bottom-e.y+i.top,e.y),g=this._lastBoundingBoxSize.height;n=y*2,r=e.y-y,n>g&&!this._isInitialRender&&!this._growAfterOpen&&(r=e.y-g/2)}let p=t.overlayX==="start"&&!s||t.overlayX==="end"&&s,_=t.overlayX==="end"&&!s||t.overlayX==="start"&&s,d,u,O;if(_)O=i.width-e.x+this._viewportMargin*2,d=e.x-this._viewportMargin;else if(p)u=e.x,d=i.right-e.x;else{let y=Math.min(i.right-e.x+i.left,e.x),g=this._lastBoundingBoxSize.width;d=y*2,u=e.x-y,d>g&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.x-g/2)}return{top:r,left:u,bottom:l,right:O,width:d,height:n}}_setBoundingBoxStyles(e,t){let i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let s={};if(this._hasExactPosition())s.top=s.left="0",s.bottom=s.right=s.maxHeight=s.maxWidth="",s.width=s.height="100%";else{let n=this._overlayRef.getConfig().maxHeight,r=this._overlayRef.getConfig().maxWidth;s.height=m(i.height),s.top=m(i.top),s.bottom=m(i.bottom),s.width=m(i.width),s.left=m(i.left),s.right=m(i.right),t.overlayX==="center"?s.alignItems="center":s.alignItems=t.overlayX==="end"?"flex-end":"flex-start",t.overlayY==="center"?s.justifyContent="center":s.justifyContent=t.overlayY==="bottom"?"flex-end":"flex-start",n&&(s.maxHeight=m(n)),r&&(s.maxWidth=m(r))}this._lastBoundingBoxSize=i,P(this._boundingBox.style,s)}_resetBoundingBoxStyles(){P(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){P(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){let i={},s=this._hasExactPosition(),n=this._hasFlexibleDimensions,r=this._overlayRef.getConfig();if(s){let d=this._viewportRuler.getViewportScrollPosition();P(i,this._getExactOverlayY(t,e,d)),P(i,this._getExactOverlayX(t,e,d))}else i.position="static";let l="",p=this._getOffset(t,"x"),_=this._getOffset(t,"y");p&&(l+=`translateX(${p}px) `),_&&(l+=`translateY(${_}px)`),i.transform=l.trim(),r.maxHeight&&(s?i.maxHeight=m(r.maxHeight):n&&(i.maxHeight="")),r.maxWidth&&(s?i.maxWidth=m(r.maxWidth):n&&(i.maxWidth="")),P(this._pane.style,i)}_getExactOverlayY(e,t,i){let s={top:"",bottom:""},n=this._getOverlayPoint(t,this._overlayRect,e);if(this._isPushed&&(n=this._pushOverlayOnScreen(n,this._overlayRect,i)),e.overlayY==="bottom"){let r=this._document.documentElement.clientHeight;s.bottom=`${r-(n.y+this._overlayRect.height)}px`}else s.top=m(n.y);return s}_getExactOverlayX(e,t,i){let s={left:"",right:""},n=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(n=this._pushOverlayOnScreen(n,this._overlayRect,i));let r;if(this._isRtl()?r=e.overlayX==="end"?"left":"right":r=e.overlayX==="end"?"right":"left",r==="right"){let l=this._document.documentElement.clientWidth;s.right=`${l-(n.x+this._overlayRect.width)}px`}else s.left=m(n.x);return s}_getScrollVisibility(){let e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(s=>s.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:he(e,i),isOriginOutsideView:yt(e,i),isOverlayClipped:he(t,i),isOverlayOutsideView:yt(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,s)=>i-Math.max(s,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return t==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&dt(e).forEach(t=>{t!==""&&this._appliedPanelClasses.indexOf(t)===-1&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof T)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}};function P(o,e){for(let t in e)e.hasOwnProperty(t)&&(o[t]=e[t]);return o}function pe(o){if(typeof o!="number"&&o!=null){let[e,t]=o.split(Le);return!t||t==="px"?parseFloat(e):null}return o||null}function fe(o){return{top:Math.floor(o.top),right:Math.floor(o.right),bottom:Math.floor(o.bottom),left:Math.floor(o.left),width:Math.floor(o.width),height:Math.floor(o.height)}}function Be(o,e){return o===e?!0:o.isOriginClipped===e.isOriginClipped&&o.isOriginOutsideView===e.isOriginOutsideView&&o.isOverlayClipped===e.isOverlayClipped&&o.isOverlayOutsideView===e.isOverlayOutsideView}var _e="cdk-global-overlay-wrapper";function Ce(o){return new K}var K=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(e){let t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(_e),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:s,height:n,maxWidth:r,maxHeight:l}=i,p=(s==="100%"||s==="100vw")&&(!r||r==="100%"||r==="100vw"),_=(n==="100%"||n==="100vh")&&(!l||l==="100%"||l==="100vh"),d=this._xPosition,u=this._xOffset,O=this._overlayRef.getConfig().direction==="rtl",y="",g="",v="";p?v="flex-start":d==="center"?(v="center",O?g=u:y=u):O?d==="left"||d==="end"?(v="flex-end",y=u):(d==="right"||d==="start")&&(v="flex-start",g=u):d==="left"||d==="start"?(v="flex-start",y=u):(d==="right"||d==="end")&&(v="flex-end",g=u),e.position=this._cssPosition,e.marginLeft=p?"0":y,e.marginTop=_?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=p?"0":g,t.justifyContent=v,t.alignItems=_?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(_e),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},ke=(()=>{class o{_injector=f(w);constructor(){}global(){return Ce()}flexibleConnectedTo(t){return Q(this._injector,t)}static \u0275fac=function(i){return new(i||o)};static \u0275prov=x({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function J(o,e){o.get(ct).load(Se);let t=o.get(Oe),i=o.get(S),s=o.get(qt),n=o.get(At),r=o.get(z),l=i.createElement("div"),p=i.createElement("div");p.id=s.getId("cdk-overlay-"),p.classList.add("cdk-overlay-pane"),l.appendChild(p),t.getContainerElement().appendChild(l);let _=new ie(p,n,o),d=new U(e),u=o.get(Mt,null,{optional:!0})||o.get(X).createRenderer(null,null);return d.direction=d.direction||r.value,new $(_,l,p,d,o.get(E),o.get(be),i,o.get(Wt),o.get(we),e?.disableAnimations??o.get(Dt,null,{optional:!0})==="NoopAnimations",o.get(Pt),u)}var xe=(()=>{class o{scrollStrategies=f(ye);_positionBuilder=f(ke);_injector=f(w);constructor(){}create(t){return J(this._injector,t)}position(){return this._positionBuilder}static \u0275fac=function(i){return new(i||o)};static \u0275prov=x({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var Ye=new B("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let o=f(w);return()=>R(o)}});function Ne(o){let e=f(w);return()=>R(e)}var Fe={provide:Ye,useFactory:Ne},bt=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=H({type:o});static \u0275inj=V({providers:[xe,Fe],imports:[te,se,gt,gt]})}return o})();var Xe=["tooltip"],wt=20;var St=new B("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let o=f(w);return()=>R(o,{scrollThrottle:wt})}});function Re(o){let e=f(w);return()=>R(e,{scrollThrottle:wt})}var Te={provide:St,deps:[],useFactory:Re};function De(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var Me=new B("mat-tooltip-default-options",{providedIn:"root",factory:De});var Ee="tooltip-panel",Pe=Ut({passive:!0}),He=8,ze=8,je=24,We=200,Ot=(()=>{class o{_elementRef=f(T);_ngZone=f(E);_platform=f(A);_ariaDescriber=f(Qt);_focusMonitor=f(Zt);_dir=f(z);_injector=f(w);_viewContainerRef=f(st);_animationsDisabled=ft();_defaultOptions=f(Me,{optional:!0});_overlayRef;_tooltipInstance;_overlayPanelClass;_portal;_position="below";_positionAtOrigin=!1;_disabled=!1;_tooltipClass;_viewInitialized=!1;_pointerExitEventsInitialized=!1;_tooltipComponent=Ae;_viewportMargin=8;_currentPosition;_cssClassPrefix="mat-mdc";_ariaDescriptionPending;_dirSubscribed=!1;get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(t){this._positionAtOrigin=_t(t),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(t){let i=_t(t);this._disabled!==i&&(this._disabled=i,i?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=ht(t)}_showDelay;get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=ht(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}_hideDelay;touchGestures="auto";get message(){return this._message}set message(t){let i=this._message;this._message=t!=null?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(i)}_message="";get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}_passiveListeners=[];_touchstartTimeout=null;_destroyed=new b;_isDestroyed=!1;constructor(){let t=this._defaultOptions;t&&(this._showDelay=t.showDelay,this._hideDelay=t.hideDelay,t.position&&(this.position=t.position),t.positionAtOrigin&&(this.positionAtOrigin=t.positionAtOrigin),t.touchGestures&&(this.touchGestures=t.touchGestures),t.tooltipClass&&(this.tooltipClass=t.tooltipClass)),this._viewportMargin=He}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(k(this._destroyed)).subscribe(t=>{t?t==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let t=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,s])=>{t.removeEventListener(i,s,Pe)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0,this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let s=this._createOverlay(i);this._detach(),this._portal=this._portal||new ee(this._tooltipComponent,this._viewContainerRef);let n=this._tooltipInstance=s.attach(this._portal).instance;n._triggerElement=this._elementRef.nativeElement,n._mouseLeaveHideDelay=this._hideDelay,n.afterHidden().pipe(k(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),n.show(t)}hide(t=this.hideDelay){let i=this._tooltipInstance;i&&(i.isVisible()?i.hide(t):(i._cancelPendingAnimations(),this._detach()))}toggle(t){this._isTooltipVisible()?this.hide():this.show(void 0,t)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(t){if(this._overlayRef){let r=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!t)&&r._origin instanceof T)return this._overlayRef;this._detach()}let i=this._injector.get(I).getAncestorScrollContainers(this._elementRef),s=`${this._cssClassPrefix}-${Ee}`,n=Q(this._injector,this.positionAtOrigin?t||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return n.positionChanges.pipe(k(this._destroyed)).subscribe(r=>{this._updateCurrentPositionClass(r.connectionPair),this._tooltipInstance&&r.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=J(this._injector,{direction:this._dir,positionStrategy:n,panelClass:this._overlayPanelClass?[...this._overlayPanelClass,s]:s,scrollStrategy:this._injector.get(St)(),disableAnimations:this._animationsDisabled}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(k(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(k(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(k(this._destroyed)).subscribe(r=>{this._isTooltipVisible()&&r.keyCode===27&&!Kt(r)&&(r.preventDefault(),r.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._dirSubscribed||(this._dirSubscribed=!0,this._dir.change.pipe(k(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){let i=t.getConfig().positionStrategy,s=this._getOrigin(),n=this._getOverlayPosition();i.withPositions([this._addOffset(C(C({},s.main),n.main)),this._addOffset(C(C({},s.fallback),n.fallback))])}_addOffset(t){let i=ze,s=!this._dir||this._dir.value=="ltr";return t.originY==="top"?t.offsetY=-i:t.originY==="bottom"?t.offsetY=i:t.originX==="start"?t.offsetX=s?-i:i:t.originX==="end"&&(t.offsetX=s?i:-i),t}_getOrigin(){let t=!this._dir||this._dir.value=="ltr",i=this.position,s;i=="above"||i=="below"?s={originX:"center",originY:i=="above"?"top":"bottom"}:i=="before"||i=="left"&&t||i=="right"&&!t?s={originX:"start",originY:"center"}:(i=="after"||i=="right"&&t||i=="left"&&!t)&&(s={originX:"end",originY:"center"});let{x:n,y:r}=this._invertPosition(s.originX,s.originY);return{main:s,fallback:{originX:n,originY:r}}}_getOverlayPosition(){let t=!this._dir||this._dir.value=="ltr",i=this.position,s;i=="above"?s={overlayX:"center",overlayY:"bottom"}:i=="below"?s={overlayX:"center",overlayY:"top"}:i=="before"||i=="left"&&t||i=="right"&&!t?s={overlayX:"end",overlayY:"center"}:(i=="after"||i=="right"&&t||i=="left"&&!t)&&(s={overlayX:"start",overlayY:"center"});let{x:n,y:r}=this._invertPosition(s.overlayX,s.overlayY);return{main:s,fallback:{overlayX:n,overlayY:r}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),M(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,i){return this.position==="above"||this.position==="below"?i==="top"?i="bottom":i==="bottom"&&(i="top"):t==="end"?t="start":t==="start"&&(t="end"),{x:t,y:i}}_updateCurrentPositionClass(t){let{overlayY:i,originX:s,originY:n}=t,r;if(i==="center"?this._dir&&this._dir.value==="rtl"?r=s==="end"?"left":"right":r=s==="start"?"left":"right":r=i==="bottom"&&n==="top"?"above":"below",r!==this._currentPosition){let l=this._overlayRef;if(l){let p=`${this._cssClassPrefix}-${Ee}-`;l.removePanelClass(p+this._currentPosition),l.addPanelClass(p+r)}this._currentPosition=r}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",t=>{this._setupPointerExitEventsIfNeeded();let i;t.x!==void 0&&t.y!==void 0&&(i=t),this.show(void 0,i)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",t=>{let i=t.targetTouches?.[0],s=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let n=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,s)},this._defaultOptions?.touchLongPressShowDelay??n)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",i=>{let s=i.relatedTarget;(!s||!this._overlayRef?.overlayElement.contains(s))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let i=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};t.push(["touchend",i],["touchcancel",i])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([i,s])=>{this._elementRef.nativeElement.addEventListener(i,s,Pe)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){let i=this._injector.get(S).elementFromPoint(t.clientX,t.clientY),s=this._elementRef.nativeElement;i!==s&&!s.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){let t=this.touchGestures;if(t!=="off"){let i=this._elementRef.nativeElement,s=i.style;(t==="on"||i.nodeName!=="INPUT"&&i.nodeName!=="TEXTAREA")&&(s.userSelect=s.msUserSelect=s.webkitUserSelect=s.MozUserSelect="none"),(t==="on"||!i.draggable)&&(s.webkitUserDrag="none"),s.touchAction="none",s.webkitTapHighlightColor="transparent"}}_syncAriaDescription(t){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,t,"tooltip"),this._isDestroyed||M({write:()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")}},{injector:this._injector}))}static \u0275fac=function(i){return new(i||o)};static \u0275dir=ot({type:o,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(i,s){i&2&&rt("mat-mdc-tooltip-disabled",s.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return o})(),Ae=(()=>{class o{_changeDetectorRef=f(jt);_elementRef=f(T);_isMultiline=!1;message;tooltipClass;_showTimeoutId;_hideTimeoutId;_triggerElement;_mouseLeaveHideDelay;_animationsDisabled=ft();_tooltip;_closeOnInteraction=!1;_isVisible=!1;_onHide=new b;_showAnimation="mat-mdc-tooltip-show";_hideAnimation="mat-mdc-tooltip-hide";constructor(){}show(t){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let t=this._elementRef.nativeElement.getBoundingClientRect();return t.height>je&&t.width>=We}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){let i=this._tooltip.nativeElement,s=this._showAnimation,n=this._hideAnimation;if(i.classList.remove(t?n:s),i.classList.add(t?s:n),this._isVisible!==t&&(this._isVisible=t,this._changeDetectorRef.markForCheck()),t&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let r=getComputedStyle(i);(r.getPropertyValue("animation-duration")==="0s"||r.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=D({type:o,selectors:[["mat-tooltip-component"]],viewQuery:function(i,s){if(i&1&&Ft(Xe,7),i&2){let n;Vt(n=Xt())&&(s._tooltip=n.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(i,s){i&1&&nt("mouseleave",function(r){return s._handleMouseLeave(r)})},decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(i,s){if(i&1){let n=Nt();h(0,"div",1,0),nt("animationend",function(l){return Rt(n),Tt(s._handleAnimationEnd(l))}),h(2,"div",2),a(3),c()()}i&2&&(rt("mdc-tooltip--multiline",s._isMultiline),N("ngClass",s.tooltipClass),Y(3),zt(s.message))},dependencies:[Gt],styles:[`.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mat-tooltip-container-color, var(--mat-sys-inverse-surface));color:var(--mat-tooltip-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mat-tooltip-container-shape, var(--mat-sys-corner-extra-small));font-family:var(--mat-tooltip-supporting-text-font, var(--mat-sys-body-small-font));font-size:var(--mat-tooltip-supporting-text-size, var(--mat-sys-body-small-size));font-weight:var(--mat-tooltip-supporting-text-weight, var(--mat-sys-body-small-weight));line-height:var(--mat-tooltip-supporting-text-line-height, var(--mat-sys-body-small-line-height));letter-spacing:var(--mat-tooltip-supporting-text-tracking, var(--mat-sys-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel{line-height:normal}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}
`],encapsulation:2,changeDetection:0})}return o})(),Ct=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=H({type:o});static \u0275inj=V({providers:[Te],imports:[$t,bt,ut,ut,mt]})}return o})();function Ue(o,e){if(o&1&&Yt(0,"mat-grid-tile",7),o&2){let t=e.$implicit;Ht("background-image","url("+t.url+")"),N("matTooltip",at(t.alt))("colspan",t.cols)("rowspan",t.rows)}}var Ie=class o{constructor(e,t){this.document=e;this.navigationBarService=t;t.setNavActiveLink("/hardware")}cols="4";images=[{url:"/assets/images/hardware/cardputer.webp",cols:"2",rows:"3",alt:"M5Stack Cardputer with M5StampS3 v1.1",link:"https://shop.m5stack.com/products/m5stack-cardputer-with-m5stamps3-v1-1"},{url:"/assets/images/hardware/dual_button.webp",cols:"1",rows:"1",alt:"Mini Dual Button Unit",link:"https://shop.m5stack.com/products/mini-dual-button-unit"},{url:"/assets/images/hardware/button.webp",cols:"1",rows:"1",alt:"Mini Button Unit",link:"https://shop.m5stack.com/products/mini-button-unit"},{url:"/assets/images/hardware/photo_resistance.webp",cols:"1",rows:"1",alt:"Light Sensor Unit with Photo-resistance",link:"https://shop.m5stack.com/products/light-sensor-unit"},{url:"/assets/images/hardware/hub1to6.webp",cols:"1",rows:"1",alt:"I2C Hub 1 to 6 Expansion Unit v2.1 with DIP Switch",link:"https://shop.m5stack.com/products/i2c-hub-1-to-6-expansion-unit-v2-1-with-dip-switch-pca9548a"},{url:"/assets/images/hardware/joystick.webp",cols:"1",rows:"1",alt:"I2C Joystick 2 Unit",link:"https://shop.m5stack.com/products/i2c-joystick-2-unit-stm32g030"}];static \u0275fac=function(t){return new(t||o)(it(S),it(oe))};static \u0275cmp=D({type:o,selectors:[["app-hardware"]],decls:106,vars:2,consts:[[1,"page-container"],[1,"intro"],["href","https://m5stack.com/","target","_blank"],[1,"grid-responsive-2"],[1,"no-margin-bottom"],["rowHeight","2:1",3,"cols"],[3,"matTooltip","colspan","rowspan","backgroundImage"],[3,"matTooltip","colspan","rowspan"]],template:function(t,i){t&1&&(h(0,"div",0)(1,"h1"),a(2,"Hardware Platform"),c(),h(3,"p",1),a(4," Our experimental system is built upon the modular and versatile "),h(5,"a",2),a(6,"M5Stack"),c(),a(7," hardware ecosystem. This platform provides a robust foundation for rapid prototyping and deployment of embedded systems in neuroscience, cognitive experiments, and human-computer interaction research. The use of stackable, plug-and-play components allows for quick customization of experimental setups, enabling a seamless transition between different protocols and sensor configurations. "),c(),h(8,"div",3)(9,"div")(10,"h4",4),a(11,"Modularity and Extensibility"),c(),h(12,"p"),a(13," One of the key advantages of using M5Stack modules is their inherent modularity. Each unit \u2014 whether a sensor, actuator, or interface \u2014 can be easily connected via standardized ports or stacked vertically. This architecture allows us to combine components such as buttons, LED indicators, fingerprint readers, inertial measurement units (IMUs), and biometric sensors into a single synchronized system. The extensibility of this setup also permits the addition of third-party I2C, UART, or analog modules without major code or hardware modifications. "),c()(),h(14,"div")(15,"h4",4),a(16,"Event Synchronization via USB"),c(),h(17,"p"),a(18," A critical feature of our hardware configuration is its ability to transmit and receive event markers via USB. This capability is essential for neurophysiological experiments where precise timing is required \u2014 such as EEG, fNIRS, or eye-tracking studies. The USB interface supports both "),h(19,"strong"),a(20,"output triggers"),c(),a(21," (e.g., to mark stimulus presentation times) and "),h(22,"strong"),a(23,"input events"),c(),a(24," (e.g., when a subject presses a response button), ensuring accurate alignment between experimental software and physiological signals. This makes our system suitable for applications such as "),h(25,"strong"),a(26,"neurofeedback"),c(),a(27,", "),h(28,"strong"),a(29,"BCI training"),c(),a(30,", or "),h(31,"strong"),a(32,"real-time brain state monitoring"),c(),a(33,". "),c()(),h(34,"div")(35,"h4",4),a(36,"Sensor and Actuator Integration"),c(),h(37,"p"),a(38," The system supports a wide variety of sensors, including but not limited to: temperature and humidity sensors, IMUs for motion tracking, ambient light sensors, and capacitive touch sensors. These can be used to collect behavioral data, monitor environmental conditions, or even drive adaptive experimental logic. On the actuator side, we integrate visual and auditory indicators, haptic feedback modules, and programmable button arrays \u2014 all of which are essential for creating interactive and immersive experimental environments. "),c()(),h(39,"div")(40,"h4",4),a(41,"Data Acquisition and Experiment Control"),c(),h(42,"p"),a(43," The hardware is managed by a central microcontroller \u2014 typically an ESP32-based M5Stack Core \u2014 which handles I/O logic, serial communication, and protocol management. Using a combination of onboard flash storage and USB streaming, we can support both offline data logging and real-time data transfer to external systems (e.g., a PC running a Python-based experiment controller). This setup enables "),h(44,"strong"),a(45,"fine-grained temporal control"),c(),a(46,", "),h(47,"strong"),a(48,"real-time monitoring"),c(),a(49,", and "),h(50,"strong"),a(51,"adaptive feedback loops"),c(),a(52,". "),c()(),h(53,"div")(54,"h4",4),a(55,"Open Source and Customizable"),c(),h(56,"p"),a(57," All firmware and configuration logic are based on open-source technologies, allowing full transparency and customization. Developers and researchers can modify behavior at any level, from hardware-level pin assignments to high-level behavioral logic. We also provide templates for common experimental paradigms, including P300 speller tasks, motor imagery protocols, and classical conditioning frameworks. "),c()()(),h(58,"div")(59,"h4",4),a(60,"Compatibility with External Amplification Systems"),c(),h(61,"p"),a(62," A key strength of our hardware platform lies in its ability to interface with external signal acquisition systems commonly used in neuroscience and clinical settings. Through digital outputs and USB-based event synchronization, the device can generate precise hardware triggers that are compatible with commercial amplifiers such as those offered by "),h(63,"strong"),a(64,"Caldwell"),c(),a(65,", "),h(66,"strong"),a(67,"g.tec"),c(),a(68,", or "),h(69,"strong"),a(70,"BioSemi"),c(),a(71,". This enables seamless alignment between stimulus presentation and electrophysiological recordings (e.g., EEG, EMG), without the need for additional conversion hardware. "),c(),h(72,"p"),a(73," By supporting both "),h(74,"strong"),a(75,"input"),c(),a(76," and "),h(77,"strong"),a(78,"output"),c(),a(79," event channels, our system can be integrated into closed-loop experimental setups where neural responses trigger stimuli or system states. This makes it well-suited for protocols involving "),h(80,"strong"),a(81,"neurofeedback"),c(),a(82,", "),h(83,"strong"),a(84,"real-time cognitive state classification"),c(),a(85,", or synchronization with medical-grade acquisition systems. Furthermore, compatibility with TTL logic and standard USB CDC protocols ensures smooth interoperability across a wide range of lab environments. "),c()(),h(86,"mat-grid-list",5),Lt(87,Ue,1,6,"mat-grid-tile",6,It),c(),h(89,"h4",4),a(90,"Applications and Use Cases"),c(),h(91,"p"),a(92," Our hardware platform is designed for research scenarios that require flexible, reliable, and low-latency control. Some representative applications include: "),c(),h(93,"ul")(94,"li"),a(95,"EEG-based neurofeedback and stimulus-response synchronization"),c(),h(96,"li"),a(97,"Motor imagery and brain-computer interface training"),c(),h(98,"li"),a(99,"Behavioral and psychophysical experiments in cognitive science"),c(),h(100,"li"),a(101,"Human-robot interaction and real-time biofeedback"),c(),h(102,"li"),a(103,"Sensor-based monitoring of environment and subject state"),c()(),h(104,"p"),a(105," In summary, M5Stack modules provide an ideal platform for building reproducible, modular, and real-time experimental setups \u2014 bridging the gap between embedded hardware and cognitive neuroscience. "),c()()),t&2&&(Y(86),N("cols",at(i.cols)),Y(),Bt(i.images))},dependencies:[ae,re,ne,Ct,Ot],styles:["mat-grid-tile[_ngcontent-%COMP%]{background-size:contain;background-repeat:no-repeat;background-position:center;transition:transform .4s ease}mat-grid-tile[_ngcontent-%COMP%]:hover{transform:scale(1.5)}h1[_ngcontent-%COMP%]{margin-top:64px}"]})};export{Ie as Hardware};
