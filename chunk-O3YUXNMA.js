import{h as G,l as N}from"./chunk-IAD4OE4G.js";import"./chunk-4NL7G6UY.js";import"./chunk-OBJNR3WE.js";import{a as B,b as L}from"./chunk-PXDAN2MK.js";import{b as k}from"./chunk-EHU2KKIL.js";import{a as O,b as H}from"./chunk-WEKKYKA2.js";import{b as E,c as T}from"./chunk-CMXMDM5E.js";import{l as I,o as y}from"./chunk-LSHVSMVJ.js";import"./chunk-XZVHHTVN.js";import{$a as _,Ab as x,Bb as b,Db as n,Eb as o,Fb as g,Hb as u,Jb as C,Kb as c,Wa as r,Wb as P,Yb as a,Zb as S,_b as D,d as p,hb as h,ka as d,la as m,va as w,wb as v,xb as f,yb as M}from"./chunk-ZERM447T.js";function R(t,i){if(t&1){let e=u();n(0,"button",1),C("click",function(){d(e);let l=c(2);return m(l.hardwareService.autoConnect())}),a(1," Auto-Connect to Hardware "),n(2,"mat-icon"),a(3,"usb"),o()()}}function F(t,i){if(t&1){let e=u();n(0,"div",0)(1,"button",1),C("click",function(){d(e);let l=c();return m(l.hardwareService.requestAndConnectDevice())}),a(2," Select Hardware to Connect "),n(3,"mat-icon"),a(4,"usb"),o()(),v(5,R,4,0,"button",2),o()}if(t&2){let e=c();r(5),f(e.hardwareService.hasAvailableDevice()?5:-1)}}function j(t,i){if(t&1&&(n(0,"b"),a(1),o(),a(2),g(3,"br")),t&2){let e=i.$implicit;r(),D("",e.name,":"),r(),D(" ",e.value)}}function U(t,i){if(t&1){let e=u();n(0,"div",0)(1,"button",3),C("click",function(){d(e);let l=c();return m(l.hardwareService.disconnect())}),a(2," Disconnect from Hardware "),n(3,"mat-icon"),a(4,"usb_off"),o()(),n(5,"button",1),C("click",function(){d(e);let l=c();return m(l.testConnection())}),a(6," Test Connection "),o()(),n(7,"div",4)(8,"p",5),a(9,"Connection successful!"),o(),n(10,"p",6),a(11,"Connection failed!"),o()(),g(12,"mat-divider"),n(13,"p",7),x(14,j,4,2,null,null,M),o()}if(t&2){let e=c();r(8),P("active",e.successConnectedMessage()),r(2),P("active",e.failConnectedMessage()),r(4),b(e.hardwareService.getProperties())}}function W(t,i){if(t&1){let e=u();n(0,"button",10),C("click",function(){let l=d(e).$implicit,A=c(2);return m(A.onCommand(l))}),a(1),o()}if(t&2){let e=i.$implicit;r(),S(e)}}function Y(t,i){if(t&1&&(g(0,"mat-divider"),n(1,"div",8),x(2,W,2,1,"button",9,M),o()),t&2){let e=c();r(2),b(e.testCommands)}}var V=class t{constructor(i,e,s){this.navigationService=i;this.breadcrumbService=e;this.hardwareService=s;i.setActiveLink("/hardware-control-panel"),this.breadcrumbService.setBreadcrumbs([{label:"Home",url:"/home"},{label:"Hardware Control Panel",url:"/hardware-control-panel"}])}successConnectedMessage=w(!1);failConnectedMessage=w(!1);devMode=window.location.hostname.startsWith("localhost");ngOnInit(){return p(this,null,function*(){yield this.hardwareService.checkAvailableDevice()})}testConnection(){return p(this,null,function*(){this.hardwareService.flushQueues(),yield this.hardwareService.writeLine("CMD=PING;CMD=@BIP 1000 100 128;CMD=@BRAND;");let i=yield this.hardwareService.readLine();this.successConnectedMessage.set(i==="RESP=PONG;"),this.failConnectedMessage.set(i!=="RESP=PONG;")})}onCommand(i){return p(this,null,function*(){yield this.hardwareService.writeLine(i)})}testCommands=["CMD=PING;","CMD=BIP 1000 100 128;","CMD=BRAND;","CMD=BIP;","CMD=BIP 3000;","CMD=BIP 1000 500;","CMD=BIP 2000 300 64;","CMD=BIP 2000 300 128;","CMD=BIP 2000 300 255;","CMD=CLA;",'CMD=LOG "testing log message";','CMD=LOG "testing log message" RED;','CMD=LOG "testing log message" BLUE;','CMD=LOG "testing log message" GREEN;','CMD=LOG "testing log message" CYAN;','CMD=LOG "testing log message" YELLOW;','CMD=LOG "testing log message" MAGENTA;','CMD=LOG "testing log message" ORANGE;','CMD=LOG "testing log message" PINK;','CMD=LOG "This is a long title that should wrap automatically across multiple lines if it doesnt fit.";','CMD=TITLE "This is a long title that should wrap automatically across multiple lines if it doesnt fit.";','CMD=TITLE "Unilateral Motor Imagery" BLUE;','CMD=TITLE "Unilateral Motor Imagery" RED 3;','CMD=TITLE "Motor Imagery" YELLOW 4;'];static \u0275fac=function(e){return new(e||t)(_(O),_(H),_(k))};static \u0275cmp=h({type:t,selectors:[["app-hardware-control-panel"]],decls:5,vars:2,consts:[[1,"flex-row"],["matButton","filled",3,"click"],["matButton","filled"],["matButton","filled",1,"disconnect",3,"click"],[1,"margin-top-large"],[1,"success"],[1,"fail"],[1,"margin-top-large","margin-bottom-large"],[1,"button-row","margin-top-large"],["matButton","tonal",1,"command-button"],["matButton","tonal",1,"command-button",3,"click"]],template:function(e,s){e&1&&(n(0,"h1"),a(1,"Hardware Control Panel"),o(),v(2,F,6,1,"div",0)(3,U,16,4),v(4,Y,4,0)),e&2&&(r(2),f(s.hardwareService.isConnected()?3:2),r(2),f(s.devMode?4:-1))},dependencies:[y,I,L,B,T,E,N,G],styles:[".disconnect[_ngcontent-%COMP%]{background-color:var(--mat-sys-error)!important}.success[_ngcontent-%COMP%]{display:none}.success.active[_ngcontent-%COMP%]{display:block;color:var(--mat-sys-primary)}.fail[_ngcontent-%COMP%]{display:none}.fail.active[_ngcontent-%COMP%]{display:block;color:var(--mat-sys-error)}.button-row[_ngcontent-%COMP%]{display:flex;flex-flow:wrap;gap:8px;justify-content:space-evenly}.command-button[_ngcontent-%COMP%]{font-family:monospace;font-size:.8rem}"]})};export{V as HardwareControlPanel};
